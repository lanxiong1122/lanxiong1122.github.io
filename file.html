<!DOCTYPE html>
<html>
<head>
    <title>File Upload Test</title>
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
<h2>Select a file:</h2>

<!-- 相机和相册的选择按钮 -->
<button onclick="openCamera()">Open Camera</button>
<button onclick="openGallery()">Open Gallery</button>

<!-- 隐藏的文件输入框 -->
<input type="file" name="cameraPhoto" id="cameraPhotoInput" class="hidden" accept="image/*" capture="camera" onchange="handleImageSelect(this)">
<input type="file" name="galleryPhoto" id="galleryPhotoInput" class="hidden" accept="image/*" onchange="handleImageSelect(this)">

<!-- 图片预览区域 -->
<div id="preview"></div>

<script>
// 打开相机
function openCamera() {
    document.getElementById('cameraPhotoInput').click();
}

// 打开相册
function openGallery() {
    document.getElementById('galleryPhotoInput').click();
}

// 处理图片选择
function handleImageSelect(input) {
    if (input.files && input.files[0]) {
        const reader = new FileReader();

        reader.onload = function(e) {
            // 创建一个新的 img 元素并显示所选文件
            let img = document.createElement('img');
            img.src = e.target.result;
            img.style.maxWidth = '300px';
            img.style.marginTop = '10px';
            document.getElementById('preview').innerHTML = ''; // 清空之前的预览
            document.getElementById('preview').appendChild(img);
        };

        reader.readAsDataURL(input.files[0]);
    }
}
</script>
</body>
</html>
